---
name: üîå Device/Sensor Addition / –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞/–¥–∞—Ç—á–∏–∫–∞
description: Request addition of a new device or sensor type to ptusa_main
title: "[DEVICE]: "
labels: ["device", "enhancement"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        Use this template to request addition of a new device or sensor type to
        ptusa_main. This helps standardize device requests and ensures all
        necessary information is provided.

        –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —à–∞–±–ª–æ–Ω –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        –∏–ª–∏ –¥–∞—Ç—á–∏–∫–∞ –≤ ptusa_main. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
        —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

  - type: input
    id: device_name
    attributes:
      label: Device Name / –ù–∞–∑–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      description: |
        The proposed name for the device/sensor (e.g., V_NEW_TYPE, TE_CUSTOM)
      placeholder: "Example: V_IOLINK_CUSTOM or TE_SPECIAL"
    validations:
      required: true

  - type: dropdown
    id: device_type
    attributes:
      label: Device Type / –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      description: |
        Select the primary device type category
      options:
        - V - –ö–ª–∞–ø–∞–Ω / Valve
        - VC - –£–ø—Ä–∞–≤–ª—è–µ–º—ã–π –∫–ª–∞–ø–∞–Ω / Controlled Valve
        - M - –î–≤–∏–≥–∞—Ç–µ–ª—å / Motor
        - LS - –£—Ä–æ–≤–µ–Ω—å (–µ—Å—Ç—å/–Ω–µ—Ç) / Level Switch
        - TE - –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ / Temperature
        - FS - –†–∞—Å—Ö–æ–¥ (–µ—Å—Ç—å/–Ω–µ—Ç) / Flow Switch
        - GS - –î–∞—Ç—á–∏–∫ –ø–æ–ª–æ–∂–µ–Ω–∏—è / Position Sensor
        - FQT - –°—á–µ—Ç—á–∏–∫ / Counter
        - LT - –£—Ä–æ–≤–µ–Ω—å (–∑–Ω–∞—á–µ–Ω–∏–µ) / Level Transmitter
        - QT - –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è / Concentration
        - HA - –ê–≤–∞—Ä–∏–π–Ω–∞—è –∑–≤—É–∫–æ–≤–∞—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è / Horn Alarm
        - HL - –ê–≤–∞—Ä–∏–π–Ω–∞—è —Å–≤–µ—Ç–æ–≤–∞—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è / Light Alarm
        - SB - –ö–Ω–æ–ø–∫–∞ / Button
        - DI - –î–∏—Å–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥–Ω–æ–π —Å–∏–≥–Ω–∞–ª / Digital Input
        - DO - –î–∏—Å–∫—Ä–µ—Ç–Ω—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π —Å–∏–≥–Ω–∞–ª / Digital Output
        - AI - –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π –≤—Ö–æ–¥–Ω–æ–π —Å–∏–≥–Ω–∞–ª / Analog Input
        - AO - –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π —Å–∏–≥–Ω–∞–ª / Analog Output
        - WT - –¢–µ–Ω–∑–æ—Ä–µ–∑–∏—Å—Ç–æ—Ä / Load Cell
        - PT - –î–∞–≤–ª–µ–Ω–∏–µ (–∑–Ω–∞—á–µ–Ω–∏–µ) / Pressure Transmitter
        - F - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å / Circuit Breaker
        - REGULATOR - –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä / PID Controller
        - HLA - –°–∏–≥–Ω–∞–ª—å–Ω–∞—è –∫–æ–ª–æ–Ω–Ω–∞ / Signal Tower
        - CAM - –ö–∞–º–µ—Ä–∞ / Camera
        - PDS - –î–∞—Ç—á–∏–∫ —Ä–∞–∑–Ω–æ—Å—Ç–∏ –¥–∞–≤–ª–µ–Ω–∏—è / Differential Pressure Sensor
        - TS - –°–∏–≥–Ω–∞–ª—å–Ω—ã–π –¥–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã / Temperature Signal Sensor
        - G - –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è / Power Supply
        - WATCHDOG - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤—è–∑–∏ / Watchdog Device
        - EY - –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä IO-Link / IO-Link Converter
        - Other / –î—Ä—É–≥–æ–µ
    validations:
      required: true

  - type: textarea
    id: device_description
    attributes:
      label: Device Description / –û–ø–∏—Å–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      description: |
        Detailed description of the device/sensor functionality
      placeholder: |
        Describe:
        - What the device does
        - Its purpose in the automation system
        - Any special characteristics
        - Physical connections/interface
    validations:
      required: true

  - type: dropdown
    id: interface_type
    attributes:
      label: Interface Type / –¢–∏–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
      description: How does this device connect to the system?
      options:
        - IO-Link
        - Digital I/O (DI/DO)
        - Analog I/O (AI/AO)
        - AS-Interface
        - Ethernet/Modbus TCP
        - Profinet
        - EtherCAT
        - Serial (RS232/RS485)
        - Virtual / Software-based
        - Other / –î—Ä—É–≥–æ–µ
    validations:
      required: true

  - type: textarea
    id: hardware_specs
    attributes:
      label: Hardware Specifications / –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
      description: |
        Provide hardware specifications if available
      placeholder: |
        - Manufacturer: 
        - Model/Part Number: 
        - Voltage/Current ratings: 
        - Communication protocol: 
        - Response time: 
        - Operating conditions: 
        - Datasheet link:
    validations:
      required: false

  - type: textarea
    id: io_configuration
    attributes:
      label: I/O Configuration / –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤
      description: |
        Describe the input/output channels needed
      placeholder: |
        Digital Outputs (DO): 
        Digital Inputs (DI): 
        Analog Outputs (AO): 
        Analog Inputs (AI): 
        Feedback signals: 
        
        Example:
        - DO1: Main control
        - DO2: Secondary control
        - DI1: Feedback open
        - DI2: Feedback closed
        - AI1: Position value
    validations:
      required: true

  - type: textarea
    id: parameters
    attributes:
      label: Device Parameters / –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      description: |
        List any configurable parameters the device should have
      placeholder: |
        Example parameters:
        - P_ON_TIME: Time to open (ms)
        - P_FB: Feedback timeout (ms)
        - P_MIN_V: Minimum value
        - P_MAX_V: Maximum value
        - P_ERR_T: Error threshold
    validations:
      required: false

  - type: textarea
    id: similar_devices
    attributes:
      label: Similar Existing Devices / –ü–æ—Ö–æ–∂–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
      description: |
        Reference similar devices already in the system that could serve as a
        template
      placeholder: |
        Example:
        - Similar to valve_DO2_DI2 but with additional feedback
        - Based on temperature_e but with different scaling
        - Combination of M_FREQ and position sensor
    validations:
      required: false

  - type: dropdown
    id: platform
    attributes:
      label: Target Platform / –¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
      description: Which platforms should support this device?
      multiple: true
      options:
        - Windows
        - Linux
        - PLCnext (AXC F 2152)
        - PLCnext (Other)
        - All platforms / –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
    validations:
      required: true

  - type: textarea
    id: use_cases
    attributes:
      label: Use Cases / –í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
      description: |
        Describe specific use cases or applications for this device
      placeholder: |
        Where will this device be used?
        What processes does it control?
        Example scenarios:
        1. Used in CIP cleaning systems for...
        2. Required for pasteurization line to...
        3. Needed for tank level monitoring in...
    validations:
      required: true

  - type: textarea
    id: lua_interface
    attributes:
      label: Lua Interface Requirements / –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ Lua-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
      description: |
        Describe how this device should be accessible from Lua scripts
      placeholder: |
        Example:
        ```lua
        -- Device creation
        V('V101', 'My new valve', DST_V_NEW_TYPE)
        
        -- Usage
        V('V101'):open()
        V('V101'):close()
        state = V('V101'):get_state()
        ```
    validations:
      required: false

  - type: textarea
    id: control_logic
    attributes:
      label: Control Logic / –õ–æ–≥–∏–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
      description: |
        Describe the control logic/behavior of the device
      placeholder: |
        State machine, timing requirements, safety interlocks, etc.
        
        Example:
        - On command: activate DO1, wait for DI1 within P_ON_TIME
        - Off command: deactivate DO1, check DI2
        - Error conditions: timeout, conflicting feedback
    validations:
      required: false

  - type: dropdown
    id: priority
    attributes:
      label: Priority / –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
      description: How urgent is this device addition?
      options:
        - Low / –ù–∏–∑–∫–∏–π
        - Medium / –°—Ä–µ–¥–Ω–∏–π
        - High / –í—ã—Å–æ–∫–∏–π
        - Critical / –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π
    validations:
      required: true

  - type: textarea
    id: implementation_notes
    attributes:
      label: Implementation Notes / –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
      description: |
        Any additional notes for implementation
      placeholder: |
        - Code files that need modification
        - Device class inheritance structure
        - Special considerations
        - Testing requirements
    validations:
      required: false

  - type: textarea
    id: documentation
    attributes:
      label: Documentation / –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
      description: |
        Links to datasheets, manuals, or other relevant documentation
      placeholder: |
        - Manufacturer datasheet: https://...
        - Installation guide: https://...
        - Protocol specification: https://...
        - Application note: https://...
    validations:
      required: false

  - type: textarea
    id: additional_info
    attributes:
      label: Additional Information / –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
      description: Any other relevant information
      placeholder: |
        Diagrams, screenshots, example configurations, etc.
    validations:
      required: false

  - type: checkboxes
    id: checklist
    attributes:
      label: Checklist / –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫
      description: Please confirm the following
      options:
        - label: |
            I have searched for existing device types that might already support
            this functionality
          required: true
        - label: |
            I have checked the device manager code (PAC/common/device/) for
            similar implementations
          required: true
        - label: |
            I understand that device implementation requires C++ code changes and
            testing
          required: true
        - label: |
            I have provided sufficient technical details for implementation
          required: true
        - label: |
            I am willing to help test this device when it's implemented
          required: false
